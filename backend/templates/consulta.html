<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Consulta de CNPJ</title>
    <link href="/static/output.css" rel="stylesheet" />
  </head>
  <body class="bg-gray-100">
    <div class="container mx-auto p-8">
      <h1 class="text-4xl font-bold text-center mb-8">Consulta de CNPJ</h1>
      <form
        action=""
        method="get"
        onsubmit="return submitForm(this);"
        class="mb-6"
      >
        <input
          type="text"
          name="cnpj"
          placeholder="Digite o CNPJ"
          required
          class="p-3 border rounded-lg"
        />
        <button type="submit" class="p-3 bg-blue-600 text-white rounded-lg">
          Consultar
        </button>
      </form>

      {% if error_message %}
      <div class="bg-red-500 text-white p-4 rounded-lg mb-4">
        <strong>{{ error_message }}</strong>
      </div>
      {% endif %}

      <div class="bg-white shadow-md rounded-lg p-6">
        <h2 class="text-2xl font-semibold mb-4">Dados da Empresa</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div><strong>Nome Fantasia:</strong> {{ nome_fantasia }}</div>
          <div><strong>Razão Social:</strong> {{ razao_social }}</div>
          <div>
            <strong>CNPJ:</strong> {{ cnpj_raiz }}-{{ cnpj_ordem }}/{{
            cnpj_digito_verificador }}
          </div>
          <div>
            <strong>Situação Cadastral:</strong> {{ situacao_cadastral }}
          </div>
          <div>
            <strong>Data de Início de Atividade:</strong> {{
            data_inicio_atividade }}
          </div>
          <div>
            <strong>Endereço:</strong> {{ tipo_logradouro }} {{ logradouro }},
            {{ numero }}, {{ bairro }} - {{ cidade.nome }}, {{ estado.sigla }},
            {{ pais.nome }}
          </div>
          <div><strong>CEP:</strong> {{ cep }}</div>
          <div><strong>Telefone:</strong> ({{ ddd1 }}) {{ telefone1 }}</div>
          <div><strong>Email:</strong> {{ email }}</div>
        </div>

        <h2 class="text-2xl font-semibold mt-8 mb-4">Atividade Principal</h2>
        <div><strong>Descrição:</strong> {{ atividade_principal }}</div>

        <h2 class="text-2xl font-semibold mt-8 mb-4">Atividades Secundárias</h2>
        <ul>
          {% for atividade in atividades_secundarias %}
          <li class="mb-2">
            <strong>{{ atividade.descricao }}</strong>
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
    <script>
      function submitForm(form) {
        const cnpj = form.cnpj.value.trim();
        if (cnpj) {
          window.location.href = `/cnpj/${cnpj}`;
        }
        return false;
      }
    </script>
  </body>
</html>
